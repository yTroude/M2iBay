#{extends 'FrontController/template.html'/}
#{set title:'Panier'/}
<div class="col">

    #{if panier==null}
    <h1>Il n'y a rien ici</h1>
    <h5>Ajoutez des articles à votre panier pour commencer.</h5>
    <p><a href="@{FrontController.index()}">Retour à la liste des produits.</a></p>
    #{/if}

    #{else }
    #{list panier.produits.keySet(), as:produit}
    <div class="col">
        <div class="card">
            <div class="row">
                <h5><a href="@{FrontController.detailProduit(produit.uuid)}">${produit.nom}</a></h5>
                <form action="@{FrontController.updateQuantitePanier()}" method="post">
                    <div class="form-group">
                        <label for="quantite">Quantité :</label>
                        <input type="number" name="quantite" id="quantite" min="0" value="${panier.produits.get(produit)}">
                        <input type="hidden" name="produitUUID" value="${produit.uuid}">
                        <input type="submit" class="btn btn-primary" value="Mettre à jour">
                    </div>
                </form>
            </div>

        </div>
    </div>
    #{/list}
    #{/else}
</div>
